RuinProbability
=
This [Julia language](http://julialang.org) package is based on ruin theory in acturail field, trying to compute ruin probability with the real data.
The ruin model is defined as [Cramér–Lundberg model](http://matthewhr.wordpress.com/2012/12/11/cramer-lundberg-model/). In the surplus process, claims data is fitted by exponential distribution and mixture three exponential distribution, fractional Gamma distrubition, claims size is generated by Possion process. Fitting method is [Expectation–maximization algorithm](http://en.wikipedia.org/wiki/Expectation%E2%80%93maximization_algorithm) and [MLE](http://en.wikipedia.org/wiki/Maximum_likelihood). 
#
Claims models and claims size models will be extended in the future.
# 
#
Installation
=
```
Pkg.clone("https://github.com/Hank-Qian/RuinProbability.jl")
```
#
Usage
=
There are four functions in the model now. And the functions are related to the information which need to be inputed by user. For calculating the ruin probability, user needs to input some basic parameters, for example:

* **initial_capital = 100000**
* **loss_ratio = 0.66**
* **expense_ratio = 0.27**
* **duration = 10**

and input the **claims_data = collect(readdlm("local document"))**, which can read outernal file in Julia. The format of the claims_data should be a row of data without title.
#########
After the surplus process basic information inputted, user needs to decide the claims distribution, the distribution is fitted by EM algorithm, up to now, there are Exponential distribution and mixture three exponential distribution can be choosed. User needs to input **EMfit(claims_data)** to fit the data. **Expecially**, if use EM algorithm to fit data into exponential distribution, the parameter of the exponential distribution is 1/mean(claims_data), so it is easy to directly put into the ruin probability function instead of using EM firstly. This **EMfit** is only for fitting data into mixture three exponential distribution.
##########
Then user can get the survival probability(survival probability + ruin probability = 1) by such codes:
* **SPExp(surplusprocess)**, it shows the survival probability under exponential distribution claims distribution. 
* **SPMixExp(surplusprocess)**, it shows the survival probability under mixture three exponential distribution claims distribution. 
* **SPFG(surplusprocess)**, it shows the survival probability under fractional Gamma distribution.
* QQPlot is the quantiles plots for evaluating the fitting, and the quantiles are generated by Newton method. In QQPlot function, it will provide the comparison about QQplot between two different claims distributions by **QQPlot(claims_data)**. 
* **PlotSP(surplusprocess)**, if user needs a survival probability comparison between different model, this code will present the survival probability against initial capital under different models.



