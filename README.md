RuinProbability
=
This [Julia language](http://julialang.org) package is based on ruin theory in acturail field, trying to compute ruin probability with the real data. For both of acdamic and industry using.
In this package, the ruin model is considered as classical [Cramér–Lundberg model](http://matthewhr.wordpress.com/2012/12/11/cramer-lundberg-model/). In the surplus process, claims data is fitted by exponential distribution and mixture three exponential distribution, fractional Gamma distrubition, claims size is generated by Possion process. Fitting method is [Expectation–maximization algorithm](http://en.wikipedia.org/wiki/Expectation%E2%80%93maximization_algorithm) and [MLE](http://en.wikipedia.org/wiki/Maximum_likelihood). 
#
Claims models and claims size models will be extended in the future.
# 
#
Installation
=
```
Pkg.clone("https://github.com/Hank-Qian/RuinProbability.jl")
```
#
Usage
=
The package is for calculating the survival probability under different claims model with real data. For companies, users need to input basic real information about the companies, the requirments are presented as an example:

* **initial_capital = 100000**
* **loss_ratio = 0.66**
* **expense_ratio = 0.27**
* **duration = 10**

and input the **claims_data = collect(readdlm("local document"))**, which can read outernal file in Julia. The format of the claims_data should be a row of data without title, or users can input the data themself.
Then define the Datatype: **SP = SurplusProcess(initial_capital, claims_data, loss_ratio, expense_ratio, duration)**, put the data in **SP**. *Author is still trying to avoid of asking users to enter this code.* 
#########
After the surplus process basic information inputted, user needs to decide the claims distribution, the distribution is fitted by EM algorithm, User can input **EMfit(SP,number)** to fit the data under mixture exponential distribution. **Expecially**, if use EM algorithm to fit data into exponential distribution, the parameter of the exponential distribution is 1/mean(claims_data), so it is easy to directly put into the ruin probability function instead of using EM firstly.
##########
Then user can get the survival probability(survival probability + ruin probability = 1) by simply typing **SurPro(SP,D)** to get explicit solution and **Simulation(SP,initial capital, years, D)** to get simulation solution by MC method.
*D=distribution*
there are three distributions can be computed for the survival probability.
* Exp = Exponential distribution
* MixExp = Mixture three exponential distribution
* FG = Fractional Gamma distribution
#########
And there are some functions for the evaluation of the fitting.

* QQ Plot (quantile and quantile plot) is a probability plot, which is a graphical technique for comparing two probability distributions by plotting their quantiles against each other. In QQPlot function, it will provide the comparison about QQplot between two different claims distributions by **QQPlot(SP,number)**. Red points: Exp, Blue points: MixExp, Green points: FG. 
* PP Plot (probability-probability plot or percent-percent plot) is a probability plot for evaluating how closely two data sets agree, which plots the two cumulative distribution func- tions against each other. **PPPlot(SP,number)** Red points: Exp, Blue points: Mix3Exp, Green points: FG.
* PDSum is a funtion of numerical explaination of PP Plot. The results are sum of difference of CDF. **PDSum(SP,number)**
* **PlotSP(SP)**, if user needs a survival probability comparison between different model, this code will present the survival probability against initial capital under different models.



